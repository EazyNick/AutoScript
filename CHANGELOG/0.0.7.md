# 0.0.7 - 2026-01-03

## 추가된 기능

### Undo 기능 (노드 이동)
- 노드 드래그 후 Ctrl+Z로 이전 위치로 되돌리기 기능 구현
- 스크립트별 독립적인 Undo 스택 관리
- 노드 이동 시 자동으로 스냅샷 저장 및 DB 동기화

### 키보드 단축키
- **Ctrl+N**: 현재 포커스한 스크립트에서 노드 추가 모달 열기
  - 스크립트가 선택되어 있을 때만 동작
  - 스크립트가 선택되지 않은 경우 경고 로그 출력

## 기술적 변경사항

- `UndoRedoService` 클래스 추가
- DB 스키마 기반 노드 정보 스냅샷 저장
- 노드 드래그 시작/종료 시 자동 스냅샷 생성
- 키보드 단축키 처리 로직 개선 (스크립트 선택 상태 확인)

---

## 2026-01-05 업데이트

### 추가된 기능

#### Undo 기능 확장 (노드 삭제)
- 노드 삭제 후 Ctrl+Z로 삭제된 노드 복원 기능 추가
- 삭제된 노드의 연결 정보까지 완전히 복원
- 최대 20개 작업 기록까지 Undo 가능 (이동/삭제 공통)

### 성능 최적화

#### 시작 노드 로딩 개선
- 경계 노드(시작/종료)만 먼저 로드하고 나머지는 지연 로드
- 최초 실행 시 시작 노드 표시 속도 대폭 개선 (약 5초 → 즉시)

### 코드 개선

#### Python 서버 코드 모듈화
- `server/api/helpers/` 폴더 생성 및 헬퍼 함수 분리
  - `script_helpers.py`: 스크립트 조회/저장 헬퍼
  - `response_helpers.py`: 응답 생성 헬퍼
  - `router_wrapper.py`: 라우터 래퍼
  - `constants.py`: API 상수 정의
- 하드코딩된 값들을 상수로 변경 (HTTP 상태 코드, 에러 메시지, 제한값 등)
- 중복 코드 제거 및 공통 로직 통합

#### JavaScript 프론트엔드 코드 모듈화
- `UI/src/pages/workflow/constants/` 폴더에 상수 파일 생성
  - `timing-constants.js`: 타이밍 관련 상수 (지연 시간, 간격 등)
  - `size-constants.js`: 크기 및 거리 상수 (캔버스 크기, 임계값 등)
  - `style-constants.js`: 스타일 상수 (opacity, z-index, padding 등)
  - `undo-redo-constants.js`: Undo/Redo 관련 상수
- 하드코딩된 숫자 값들을 상수로 변경
- 유지보수성 향상: 수치 변경 시 상수 파일만 수정하면 됨

## 기술적 변경사항

- `UndoRedoService`: 노드 삭제 스냅샷 저장 및 복원 로직 추가
- `NodeRegistry`: 경계 노드 우선 로드 메서드 추가 (`loadBoundaryNodeScripts`)
- `WorkflowPage`: 노드 스크립트 지연 로딩 구현
- Python API 헬퍼 함수 통합으로 코드 중복 제거
- 상수 파일을 통한 중앙 집중식 설정 관리
